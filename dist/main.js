!function(e){var t={};function i(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=5)}([function(e,t){const i=(()=>{const e=e=>{const t=document.getElementById("results");try{document.getElementById("1").innerHTML="You",document.getElementById("2").innerHTML=localStorage.getItem("score"),e.result.forEach(e=>{const i=document.createElement("tr"),n=document.createElement("td"),o=document.createElement("td");n.innerHTML=e.user,o.innerHTML=e.score,i.appendChild(n),i.appendChild(o),t.appendChild(i)})}catch(e){console.log("no")}return t};return{setusername:e=>{localStorage.setItem("user",e)},get:()=>{fetch("https://us-central1-js-capstone-backend.cloudfunctions.net/api/games/5R5Sah9tg5zSJ3GLqlDi/scores").then(e=>e.json()).then(t=>e(t)).catch(e=>console.log(e))},setscore:(e,t)=>{fetch("https://us-central1-js-capstone-backend.cloudfunctions.net/api/games/5R5Sah9tg5zSJ3GLqlDi/scores",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:e,score:t})}).then(e=>e.json()).then(e=>console.log(e)).catch(e=>console.log(e))},datatable:e}})();e.exports=i},function(e,t){e.exports=()=>{const e=document.createElement("div"),t=document.createElement("button");return t.id="btnrestart",t.innerText="Restart Game",t.addEventListener("click",()=>{window.location.reload()}),e.appendChild(t),e}},function(e,t){e.exports=(e=document.querySelector("input"))=>{switch(e.value){case"1":return 200;case"2":return 100;case"3":return 50;default:return 100}}},function(e,t,i){e.exports=i.p+"1dd096f39a988e52ecb2e88395c6f078.png"},function(e,t,i){e.exports=i.p+"d7c8a43aea16f5528374512be7c603c8.png"},function(e,t,i){"use strict";i.r(t);var n=i(1),o=i.n(n),s=i(0),r=i.n(s);const a=i(2),c=i(3),h=i(4);let d,l,u;class p extends Phaser.Scene{constructor(){super("start game"),this.score=0,this.isover=0}preload(){this.load.image("food",c),this.load.image("body",h)}create(){const e=new Phaser.Class({Extends:Phaser.GameObjects.Image,initialize:function(e,t,i){Phaser.GameObjects.Image.call(this,e),this.setTexture("food"),this.setPosition(16*t,16*i),this.setOrigin(0),this.total=0,e.children.add(this)},eat(){this.total+=1}}),t=new Phaser.Class({initialize:function(e,t,i){this.headPosition=new Phaser.Geom.Point(t,i),this.body=e.add.group(),this.head=this.body.create(16*t,16*i,"body"),this.head.setOrigin(0),this.alive=!0,this.speed=a(),this.moveTime=0,this.tail=new Phaser.Geom.Point(t,i),this.heading=3,this.direction=3},update(e){if(e>=this.moveTime)return this.move(e)},faceLeft(){0!==this.direction&&1!==this.direction||(this.heading=2)},faceRight(){0!==this.direction&&1!==this.direction||(this.heading=3)},faceUp(){2!==this.direction&&3!==this.direction||(this.heading=0)},faceDown(){2!==this.direction&&3!==this.direction||(this.heading=1)},move(e){switch(this.heading){case 2:this.headPosition.x=Phaser.Math.Wrap(this.headPosition.x-1,0,40);break;case 3:this.headPosition.x=Phaser.Math.Wrap(this.headPosition.x+1,0,40);break;case 0:this.headPosition.y=Phaser.Math.Wrap(this.headPosition.y-1,0,30);break;case 1:this.headPosition.y=Phaser.Math.Wrap(this.headPosition.y+1,0,30)}this.direction=this.heading,Phaser.Actions.ShiftPosition(this.body.getChildren(),16*this.headPosition.x,16*this.headPosition.y,1,this.tail);return Phaser.Actions.GetFirst(this.body.getChildren(),{x:this.head.x,y:this.head.y},1)?(this.alive=!1,!1):(this.moveTime=e+this.speed,!0)},grow(){this.body.create(this.tail.x,this.tail.y,"body").setOrigin(0)},collideWithFood(e){return this.head.x===e.x&&this.head.y===e.y&&(this.grow(),e.eat(),this.speed>20&&e.total%5==0&&(this.speed-=5),!0)},updateGrid(e){return this.body.children.each(t=>{const i=t.x/16,n=t.y/16;e[n][i]=!1}),e}});l=new e(this,3,4),d=new t(this,8,8),u=this.input.keyboard.createCursorKeys()}update(e,t){if(d.alive)u.left.isDown?d.faceLeft():u.right.isDown?d.faceRight():u.up.isDown?d.faceUp():u.down.isDown&&d.faceDown(),d.update(e)&&d.collideWithFood(l)&&this.repositionFood();else if(0===this.isover){this.isover=-1,r.a.setscore("abc",this.score);const e=document.querySelector("canvas");document.body.removeChild(e),document.body.appendChild(o()())}}repositionFood(){this.score+=1,document.getElementById("score").innerHTML=this.score,document.getElementById("2").innerHTML=this.score;const e=[];for(let t=0;t<30;t+=1){e[t]=[];for(let i=0;i<40;i+=1)e[t][i]=!0}d.updateGrid(e);const t=[];for(let i=0;i<30;i+=1)for(let n=0;n<40;n+=1)!0===e[i][n]&&t.push({x:n,y:i});if(t.length>0){const e=Phaser.Math.RND.pick(t);return l.setPosition(16*e.x,16*e.y),!0}return!1}}var m=p;const f={type:Phaser.WEBGL,width:640,height:480,backgroundColor:"#bfcc00",parent:"phaser-example",scene:[m]};var y=()=>new Phaser.Game(f);const g=document.querySelector("button");g.addEventListener("click",()=>{""!==document.querySelector("#username").value?(r.a.setusername(document.querySelector("#username").value),y(),g.style.display="none",document.querySelector("input").style.display="none",document.querySelector("span").style.display="none",document.querySelector("#username").style.display="none"):alert("Please enter the user name")}),r.a.get()}]);